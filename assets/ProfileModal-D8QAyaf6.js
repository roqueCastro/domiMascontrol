import{i as c,j as m,l as $,a as s,f as D,o as a,b as e,e as i,r as d,U as I,w as h,v as k,t as g,g as x}from"./index-Bi-lJCwa.js";/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=c("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=c("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=c("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=c("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),S={key:0,class:"tw-fixed tw-inset-0 tw-bg-black/30 tw-backdrop-blur-sm tw-z-[60] tw-flex tw-items-end sm:tw-items-center tw-justify-center tw-animate-in tw-fade-in tw-duration-200"},U={class:"tw-bg-white dark:tw-bg-gray-900 tw-w-full tw-max-w-sm sm:tw-rounded-3xl tw-rounded-t-3xl tw-p-6 tw-shadow-2xl tw-animate-in tw-slide-in-from-bottom tw-duration-300"},E={class:"tw-flex tw-justify-between tw-items-center tw-mb-6"},G={class:"tw-flex tw-flex-col tw-items-center tw-gap-4 tw-mb-8"},H={class:"tw-relative tw-group"},O={class:"tw-w-24 tw-h-24 tw-rounded-full tw-overflow-hidden tw-bg-gray-200 dark:tw-bg-gray-800 tw-border-4 tw-border-white dark:tw-border-gray-700 tw-shadow-lg"},A=["src"],N={key:1,class:"tw-w-full tw-h-full tw-flex tw-items-center tw-justify-center tw-text-gray-400"},T={class:"tw-text-center tw-w-full"},F={key:1,class:"tw-text-2xl tw-font-black tw-text-gray-800 dark:tw-text-white"},X={class:"tw-text-gray-500 tw-font-medium"},q={key:0,class:"tw-bg-amber-50 tw-text-amber-700 tw-p-4 tw-rounded-xl tw-mb-4 tw-text-sm tw-font-medium tw-text-center"},J={key:1,class:"tw-space-y-3 tw-mb-6"},Q={__name:"ProfileModal",props:{isOpen:Boolean,user:Object},emits:["close","update","logout"],setup(n,{emit:C}){const j=n,M=C,l=m({name:"",phone:"",vehicle:"",photo:null}),u=m(!1),f=m(null);$(()=>j.user,o=>{o?l.value={...o}:l.value={name:"",phone:"",vehicle:"",photo:null}},{immediate:!0});const z=o=>{const t=o.target.files[0];if(t){const r=new FileReader;r.onloadend=()=>{l.value.photo=r.result},r.readAsDataURL(t)}},V=()=>{M("update",{...l.value}),u.value=!1};return(o,t)=>{var r,b,y,p,v;return n.isOpen?(a(),s("div",S,[e("div",U,[e("div",E,[t[7]||(t[7]=e("h3",{class:"tw-text-xl tw-font-black tw-text-gray-800 dark:tw-text-white"},"Mi Perfil",-1)),e("button",{onClick:t[0]||(t[0]=w=>o.$emit("close")),class:"tw-p-2 tw-bg-gray-100 dark:tw-bg-gray-800 tw-rounded-full"},[(a(),i(d(R),{size:20}))])]),e("div",G,[e("div",H,[e("div",O,[l.value.photo?(a(),s("img",{key:0,src:l.value.photo,alt:"Perfil",class:"tw-w-full tw-h-full tw-object-cover"},null,8,A)):(a(),s("div",N,[(a(),i(d(I),{size:48}))]))]),e("button",{onClick:t[1]||(t[1]=w=>f.value.click()),class:"tw-absolute tw-bottom-0 tw-right-0 tw-bg-[#1abc9c] tw-text-white tw-p-2 tw-rounded-full tw-shadow-md hover:tw-bg-[#16a085] tw-transition-transform active:tw-scale-90"},[(a(),i(d(B),{size:16}))]),e("input",{type:"file",ref_key:"fileInputRef",ref:f,class:"tw-hidden",accept:"image/*",onChange:z},null,544)]),e("div",T,[u.value?h((a(),s("input",{key:0,class:"tw-bg-gray-50 dark:tw-bg-gray-800 tw-border-none tw-rounded-lg tw-px-3 tw-py-2 tw-font-bold tw-text-lg tw-w-full tw-text-center tw-mb-2","onUpdate:modelValue":t[2]||(t[2]=w=>l.value.name=w),placeholder:"Tu nombre"},null,512)),[[k,l.value.name]]):(a(),s("h2",F,g(((r=n.user)==null?void 0:r.name)||"Invitado"),1)),e("p",X,g((b=n.user)!=null&&b.isGuest?"Cuenta de Invitado":((y=n.user)==null?void 0:y.phone)||"Sin celular"),1)])]),(p=n.user)!=null&&p.isGuest?(a(),s("div",q," Estás en modo invitado. Regístrate para guardar tu historial. ")):u.value?(a(),s("div",J,[h(e("input",{class:"tw-w-full tw-bg-gray-50 dark:tw-bg-gray-800 tw-border-none tw-rounded-xl tw-p-3.5 tw-font-medium",placeholder:"Celular","onUpdate:modelValue":t[3]||(t[3]=w=>l.value.phone=w)},null,512),[[k,l.value.phone]]),e("button",{onClick:V,class:"tw-w-full tw-bg-[#1abc9c] tw-text-white tw-font-bold tw-py-3.5 tw-rounded-xl tw-shadow-md"}," Guardar Cambios ")])):(a(),s("button",{key:2,onClick:t[4]||(t[4]=w=>u.value=!0),class:"tw-w-full tw-mb-4 tw-bg-gray-100 dark:tw-bg-gray-800 tw-text-gray-700 dark:tw-text-gray-200 tw-font-bold tw-py-3.5 tw-rounded-xl tw-flex tw-items-center tw-justify-center tw-gap-2"},[(a(),i(d(P),{size:18})),t[8]||(t[8]=x(" Editar Datos ",-1))])),e("button",{onClick:t[5]||(t[5]=w=>o.$emit("close")),class:"tw-w-full tw-flex tw-items-center tw-justify-center tw-gap-2 tw-text-gray-500 tw-font-bold tw-py-3 tw-rounded-xl hover:tw-bg-gray-50 dark:hover:tw-bg-gray-800 tw-transition-colors"}," Cerrar Ventana "),e("button",{onClick:t[6]||(t[6]=w=>o.$emit("logout")),class:"tw-w-full tw-flex tw-items-center tw-justify-center tw-gap-2 tw-text-red-500 tw-font-bold tw-bg-red-50 dark:tw-bg-red-900/10 tw-py-4 tw-rounded-xl hover:tw-bg-red-100 tw-transition-colors tw-mt-2"},[(a(),i(d(L),{size:20})),x(" "+g((v=n.user)!=null&&v.isGuest?"Salir de Invitado":"Cerrar Sesión"),1)])])])):D("",!0)}}};export{Q as default};
